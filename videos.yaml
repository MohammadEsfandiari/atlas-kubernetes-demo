---
apiVersion: db.atlasgo.io/v1alpha1
kind: AtlasSchema
metadata:
  name: silly-demo-videos
spec:
  urlFrom:
    secretKeyRef:
      key: url
      name: silly-demo-db
  schema:
    sql: |
      create table videos (
        id varchar(50) not null,
        title varchar(255) not null,
        primary key (id)
      );
---
apiVersion: db.atlasgo.io/v1alpha1
kind: AtlasSchema
metadata:
  name: silly-demo-comments
spec:
  urlFrom:
    secretKeyRef:
      key: url
      name: silly-demo-db
  schema:
    sql: |
      create table comments (
        id int not null auto_increment,
        video_id varchar(50) not null,
        description text not null,
        primary key (id),
        CONSTRAINT fk_videos FOREIGN KEY(video_id) REFERENCES videos(id)
      );
